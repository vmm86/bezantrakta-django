#################################
Фильтр информации по городу/сайту
#################################

Данные всех сайтов в разных городах России хранятся в одной базе данных. Какие-то данные, специфичные для каждого конкретного города или сайта, при создании привязываются к ним.

* С одной стороны, при работе с каким-то конкретным сайтом администратору нужно из всех имеющихся данных **отфильтровать только те данные, которые привязаны к конкретному городу или сайту**.
* С другой стороны, любые значения даты/времени (например, начало события или создание заказа) хранятся в базе данных **в "нулевом" часовом поясе (UTC)** (как единой точке отсчёта для единообразия), а **выводятся с учётом часового пояса города**, в котором находится конкретный сайт.

По указанным причинам администраторы должны использовать выпадающий список в заголовке админ-панели для фильтрации информации по выбранному городу или сайту. Для напоминания рядом с выпадающим списком указано **"Обязательно выбирайте город/сайт перед добавлением в него информации!"**.

Что привязано к городам:

* залы (места проведения событий).

Если необходимо создать сайт в городе, в котором пока ещё не создано ни одного сайта - нужно создать город, затем создать залы в првязке к этому городу.

Что привязано к сайтам:

* HTML-страницы;
* пункты меню;
* баннеры;
* сервисы продажи билетов;
* события;
* заказы и билеты в заказах.

В выпадающем списке перечислены:

* **все города**, у которых пока нет сайтов, но **к которым привязаны какие-то залы** (места проведения событий);
* **все сайты**.

Элементы выпадающего списка визуально стилизованы для удобства (отображается не во всех браузерах):

* :green:`зелёный фон` - город включен
* :yellow:`жёлтый фон` - город в процессе подготовки
* :red:`красный фон` - город отключён
* обычный шрифт - сайт работает
* :deleted:`зачёркнутый шрифт` - сайт отключен

.. only:: dev

  .. automodule:: bezantrakta.simsim.templatetags.choose_domain_or_city
